---
title: GPT-5.1 Codex
description: Latest code-optimized model
---

# GPT-5.1 Codex

The latest and most capable code generation model from OpenAI.

## Specifications

| Property | Value |
|----------|-------|
| **Model ID** | `openai/gpt-5.1-codex` |
| **Context Window** | 512K tokens |
| **Input Price** | $0.0013 / 1K tokens |
| **Output Price** | $0.01 / 1K tokens |
| **Capabilities** | tools, json, stream |

## Quick Start

```typescript
import { generateText, createGateway, jsonSchema } from 'ai';

const gateway = createGateway({
  apiKey: process.env.AI_GATEWAY_API_KEY
});

const { toolCalls } = await generateText({
  model: gateway('openai/gpt-5.1-codex'),
  prompt: 'Create a full-stack Next.js app with authentication',
  tools: {
    createFile: {
      description: 'Create a new file',
      inputSchema: jsonSchema<{ path: string; content: string }>({
        type: 'object',
        properties: {
          path: { type: 'string' },
          content: { type: 'string' },
        },
        required: ['path', 'content'],
      }),
      execute: async ({ path, content }) => ({ created: path }),
    },
  },
});
```

## Features

### Full-Stack Development

```typescript
const { toolCalls } = await generateText({
  model: gateway('openai/gpt-5.1-codex'),
  prompt: 'Build a complete e-commerce API with Stripe integration',
  tools: {
    writeFile: {
      description: 'Write source file',
      inputSchema: jsonSchema<{ path: string; code: string }>({
        type: 'object',
        properties: {
          path: { type: 'string' },
          code: { type: 'string' },
        },
        required: ['path', 'code'],
      }),
      execute: async (file) => file,
    },
    createDatabase: {
      description: 'Create database schema',
      inputSchema: jsonSchema<{ tables: Array<{ name: string; columns: string[] }> }>({
        type: 'object',
        properties: {
          tables: {
            type: 'array',
            items: {
              type: 'object',
              properties: {
                name: { type: 'string' },
                columns: { type: 'array', items: { type: 'string' } },
              },
            },
          },
        },
        required: ['tables'],
      }),
      execute: async (schema) => schema,
    },
  },
});
```

### Code Migration

```typescript
const { toolCalls } = await generateText({
  model: gateway('openai/gpt-5.1-codex'),
  prompt: 'Migrate this JavaScript codebase to TypeScript:\n' + legacyCode,
  tools: {
    migrateFile: {
      description: 'Migrate a file to TypeScript',
      inputSchema: jsonSchema<{
        originalPath: string;
        newPath: string;
        code: string;
        types: string;
      }>({
        type: 'object',
        properties: {
          originalPath: { type: 'string' },
          newPath: { type: 'string' },
          code: { type: 'string' },
          types: { type: 'string' },
        },
        required: ['originalPath', 'newPath', 'code'],
      }),
      execute: async (migration) => migration,
    },
  },
});
```

### Architecture Analysis

```typescript
import { Output } from 'ai';
import { z } from 'zod/v4';

const { output } = await generateText({
  model: gateway('openai/gpt-5.1-codex'),
  prompt: 'Analyze this microservices architecture and suggest improvements',
  output: Output.object({
    schema: z.object({
      services: z.array(z.object({
        name: z.string(),
        purpose: z.string(),
        dependencies: z.array(z.string()),
        issues: z.array(z.string()),
      })),
      recommendations: z.array(z.object({
        category: z.string(),
        suggestion: z.string(),
        priority: z.enum(['high', 'medium', 'low']),
        effort: z.enum(['small', 'medium', 'large']),
      })),
    }),
  }),
});
```

## Best Use Cases

- Complex code generation
- Large-scale refactoring
- Code migration
- Architecture design
- Test suite generation
- API development

## Comparison

| Model | Quality | Speed | Cost |
|-------|---------|-------|------|
| GPT-5 Codex | High | Fast | $$ |
| **GPT-5.1 Codex** | Highest | Fast | $$ |
| GPT-5.1 Codex Mini | Good | Fastest | $ |

Choose GPT-5.1 Codex for the best code generation quality.
