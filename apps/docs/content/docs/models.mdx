---
title: Model Selection Guide
description: Choose the right AI model for your use case - capabilities, pricing, and recommendations
---

# Model Selection Guide

Layers supports 23 language models and 8 image generation models across 5 providers, all accessible through a unified interface via Vercel AI Gateway.

## Quick Recommendations

| Use Case | Recommended Model | Why |
|----------|-------------------|-----|
| **General chat** | Claude 4.5 Sonnet | Best balance of quality and cost |
| **Budget chat** | GPT-4o Mini | Cheapest with good quality |
| **Complex reasoning** | Claude 4.5 Opus | Highest capability |
| **Code generation** | GPT-5.1 Codex | Optimized for code |
| **Fast editing** | Morph V3 Fast | 10,500 tokens/sec |
| **Web research** | Perplexity Sonar Pro | Built-in web search |
| **Image generation** | Flux Pro 1.1 | Best quality/$0.04 |
| **Fast images** | Imagen 4 Fast | Cheapest at $0.02 |

## Language Models by Provider

### Anthropic (3 models)

| Model | Input $/M | Output $/M | Vision | Tools | Thinking |
|-------|-----------|------------|--------|-------|----------|
| Claude 4.5 Haiku | $1.00 | $5.00 | Yes | Yes | Yes |
| Claude 4.5 Sonnet | $3.00 | $15.00 | Yes | Yes | Yes |
| Claude 4.5 Opus | $5.00 | $25.00 | Yes | Yes | Yes |

**Extended Thinking:** Requires `providerOptions.anthropic.thinking`
```typescript
const result = await generateText({
  model: gateway('anthropic/claude-sonnet-4.5'),
  prompt: 'Think step by step: ...',
  providerOptions: {
    anthropic: {
      thinking: { type: 'enabled', budgetTokens: 1024 }
    }
  }
});
// Access reasoning: result.reasoning, result.reasoningText
```

### OpenAI (8 models)

| Model | Input $/M | Output $/M | Vision | Tools | Notes |
|-------|-----------|------------|--------|-------|-------|
| GPT-4o Mini | $0.15 | $0.60 | Yes | Yes | Budget option |
| GPT-4o | $2.50 | $10.00 | Yes | Yes | Flagship |
| GPT-5 Chat | $1.25 | $10.00 | Yes | Yes | Latest |
| GPT-5 Codex | $1.25 | $10.00 | No | Yes | Code-optimized |
| GPT-5.1 Codex | $1.25 | $10.00 | No | Yes | Enhanced code |
| GPT-5.1 Codex Mini | $0.25 | $2.00 | No | Yes | Budget code |
| GPT-5.1 Instant | $1.25 | $10.00 | Yes | Yes | Fast response |
| GPT-5.1 Thinking | $1.25 | $10.00 | Yes | Yes | Reasoning model |

### Google (7 models)

| Model | Input $/M | Output $/M | Vision | Tools | Notes |
|-------|-----------|------------|--------|-------|-------|
| Gemini 2.5 Flash Lite | $0.10 | $0.40 | Yes | No | Cheapest |
| Gemini 2.5 Flash | $0.30 | $2.50 | Yes | Yes | Fast |
| Gemini 2.5 Flash Image | $0.30 | $2.50 | Yes | Yes | Can generate images |
| Gemini 2.5 Pro | $1.25 | $10.00 | Yes | Yes | Thinking capable |
| Gemini 3 Flash | $0.50 | $3.00 | Yes | Yes | Latest fast |
| Gemini 3 Pro Preview | $2.00 | $12.00 | No | Yes | Thinking capable |
| Gemini 3 Pro Image | $2.00 | $120.00 | Yes | Yes | High-quality images |

**Gemini Thinking:** Requires `providerOptions.google.thinkingConfig`
```typescript
const result = await generateText({
  model: gateway('google/gemini-2.5-pro'),
  prompt: 'Think step by step: ...',
  providerOptions: {
    google: {
      thinkingConfig: { thinkingBudget: 1024 }
    }
  }
});
// Access reasoning: result.reasoning
```

### Perplexity (3 models)

| Model | Input $/M | Output $/M | Web Search | Reasoning |
|-------|-----------|------------|------------|-----------|
| Sonar | $1.00 | $1.00 | Yes | No |
| Sonar Pro | $3.00 | $15.00 | Yes | No |
| Sonar Reasoning Pro | $2.00 | $8.00 | Yes | Yes |

**Note:** Perplexity models have built-in web search. Great for questions requiring current information.

### Morph (2 models)

| Model | Input $/M | Output $/M | Speed | Notes |
|-------|-----------|------------|-------|-------|
| Morph V3 Fast | $0.80 | $1.20 | 10,500 tok/s | Editing tasks |
| Morph V3 Large | $0.90 | $1.90 | 8,000 tok/s | Complex editing |

**Note:** Optimized for text editing/transformation, not general chat.

## Image Generation Models

### BFL Flux

| Model | Price/Image | Best For |
|-------|-------------|----------|
| Flux Pro 1.1 | $0.04 | Standard quality |
| Flux Kontext Pro | $0.04 | Context-aware |
| Flux Pro 1.1 Ultra | $0.06 | Highest quality |
| Flux Kontext Max | $0.08 | Maximum context |
| Flux Pro 1.0 Fill | $0.05 | Inpainting |

### Google Imagen

| Model | Price/Image | Best For |
|-------|-------------|----------|
| Imagen 4 Fast | $0.02 | Quick generation |
| Imagen 4 | $0.04 | Standard quality |
| Imagen 4 Ultra | $0.08 | Highest quality |

### Gemini Multimodal

Gemini image models return images via `result.files[]`:

```typescript
const result = await generateText({
  model: gateway('google/gemini-2.5-flash-image'),
  prompt: 'Generate an image of a sunset',
});

for (const file of result.files || []) {
  if (file.mediaType?.startsWith('image/')) {
    fs.writeFileSync('output.png', file.uint8Array);
  }
}
```

## Capability Matrix

| Capability | Models That Support It |
|------------|------------------------|
| **Vision** | All Claude, GPT-4o/5, Gemini (except 3 Pro Preview) |
| **Tool Calling** | All Claude, all GPT, most Gemini, Morph |
| **JSON Mode** | All models |
| **Streaming** | All models |
| **Extended Thinking** | Claude (all), GPT-5.1 Thinking, Gemini Pro, Sonar Reasoning |
| **Image Generation** | Flux, Imagen, Gemini Flash/Pro Image |
| **Web Search** | Perplexity (all) |

## Reasoning Models Comparison

| Model | How to Enable | Response Location |
|-------|---------------|-------------------|
| Claude 4.5 | `providerOptions.anthropic.thinking` | `result.reasoning` + `result.reasoningText` |
| GPT-5.1 Thinking | Automatic | Embedded in `result.text` |
| Sonar Reasoning Pro | Automatic | Embedded in `result.text` |
| Gemini 2.5/3 Pro | `providerOptions.google.thinkingConfig` | `result.reasoning` |

## Cost Optimization Tips

1. **Start with budget models** - GPT-4o Mini and Gemini Flash Lite are excellent for most tasks
2. **Use Haiku for simple tasks** - Claude Haiku is cheaper than Sonnet but still capable
3. **Batch requests** - Use `calculateBatchCredits()` to estimate multi-request costs
4. **Set token limits** - Always set `maxTokens` to prevent runaway costs
5. **Cache responses** - For repeated queries, consider caching at the application level

## Code Example: Model Selection

```typescript
import { getModel, getModelsByProvider, getModelsByCapability } from '@layers/models';

// Get specific model
const sonnet = getModel('anthropic/claude-sonnet-4.5');
console.log(sonnet.pricing); // { input: 3, output: 15 }

// Get all Anthropic models
const anthropicModels = getModelsByProvider('anthropic');

// Get all models with vision
const visionModels = getModelsByCapability('vision');

// Get all models with tool calling
const toolModels = getModelsByCapability('tools');
```

## Next Steps

- [Credit System](/docs/credits) - Understand how pricing translates to credits
- [Getting Started](/docs/getting-started) - Set up your first project
- [API Reference](/api/models) - Full TypeScript API
